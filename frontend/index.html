<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ContabilIsa - Sistema Contábil</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="logoMenuFav.png">
  <script src="script.js" type="module"></script>
</head>
<body>
    <div id="tela-empresas" style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #f0f2f5;">
        <div style="background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); text-align: center; max-width: 500px; width: 90%;">
            <h2>Minhas Empresas</h2>
            <p style="color: #7f8c8d;">Selecione uma empresa para começar ou crie uma nova.</p>
            <div id="lista-empresas" style="margin-top: 20px;"></div>
            <hr style="margin: 20px 0;">
            <h4>Não tem uma empresa? Crie agora.</h4>
            <form id="form-nova-empresa" style="display: flex; gap: 10px; margin-top: 10px;">
                <input type="text" id="nome-nova-empresa" placeholder="Nome da Empresa Fictícia" required style="flex-grow: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                <button type="submit" style="padding: 10px 15px; background-color: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">Criar Empresa</button>
            </form>
        </div>
    </div>

    <div id="app-principal" style="display: none;">
        <div class="app-container">
            <aside class="sidebar">
              <div class="sidebar-header">
                <img src="logoMenu.png" alt="ContabilIsa - Sistema Contábil" class="logo-menu">
              </div>
              <ul class="menu">
                <li data-page="dashboard" class="active">Página Inicial</li>
                <li data-page="setup">Setup de Contas</li>
                <li data-page="livro-diario">Livro Diário</li>
                <li data-page="livro-razao">Livro Razão</li> 
                <li data-page="balancete">Balanço Patrimonial</li>
                <li data-page="dre">DRE</li>
                <li id="btn-logout" style="color: #f39c12; margin-top: 20px; cursor: pointer;">Sair</li>
              </ul>
            </aside>
        
            <main class="main-content">
              
              <section id="page-dashboard" class="page active">
                <header><h1 id="header-empresa">Seu Dashboard</h1></header>
                <div class="container">
                  <h2>Bem-vindo, <span id="nome-usuario"></span>!</h2><br>
                  <p>Este é o resumo da sua empresa. O que você gostaria de fazer hoje?</p>
                  <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
                    <h4>Gerenciar Membros</h4>
                    <form id="form-convidar-membro" style="display: flex; gap: 10px; margin-top: 10px;">
                      <input type="email" id="email-convite" placeholder="E-mail do colega" required style="flex-grow: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                      <button type="submit" style="padding: 10px 15px;">Convidar</button>
                    </form>
                  </div>
                </div>
              </section>
              
              <section id="page-setup" class="page">
                <header><h1>Setup de Contas Contábeis</h1></header>
                <div class="container">
                  <div class="toolbar"><button id="btnAdicionarConta">Adicionar Nova Conta</button></div>
                  <button id="btnEditarConta" class="btn-secundario" disabled>Editar Conta</button>
                  <button id="btnExcluirConta" class="btn-perigo" disabled>Excluir Conta</button>
                  <table>
                    <thead><tr><th>Código</th><th>Nome da Conta</th><th>Grupo Contábil</th><th>Subgrupo 1</th><th>Subgrupo 2</th></tr></thead>
                    <tbody id="tabela-contas-corpo"></tbody>
                  </table>
                </div>
              </section>

              <section id="page-livro-diario" class="page">
                <header><h1>Livro Diário - Lançamentos</h1></header>
                <div class="container">
                  <form id="form-novo-lancamento" class="form-lancamento">
                    <button id="btnExcluirLancamento" class="btn-perigo" disabled>Excluir Lançamento</button>
                    <div class="form-grid">
                      <div>
                          <label for="data-lancamento">Data:</label>
                          <input type="date" id="data-lancamento" required style="padding: 8px; border: 1px solid #ddd; border-radius: 5px; width: 100%;">
                      </div>
                      
                      <div>
                          <label for="conta-debito">Conta Débito:</label>
                          <select id="conta-debito" required></select>
                      </div>
                      <div>
                          <label for="conta-credito">Conta Crédito:</label>
                          <select id="conta-credito" required></select>
                      </div>
                      <div>
                          <label for="valor">Valor (R$):</label>
                          <input type="number" id="valor" step="0.01" required>
                      </div>
                    </div>
                    <label for="historico">Histórico (Descrição):</label><textarea id="historico" rows="3" required></textarea>
                    <button type="submit">Salvar Lançamento</button>
                  </form>
                  <hr style="margin: 2rem 0;"><h3>Lançamentos Registrados</h3>
                  <table>
                    <thead><tr><th>Data</th><th>Histórico</th><th>Conta Débito</th><th>Conta Crédito</th><th>Valor (R$)</th></tr></thead>
                    <tbody id="tabela-lancamentos-corpo"></tbody>
                  </table>
                </div>
              </section>

<section id="page-balancete" class="page">
    <header><h1>Balanço Patrimonial</h1></header>
    
    <div class="container"> 
        
        <div class="toolbar" style="display: flex; align-items: flex-end; gap: 15px; flex-wrap: wrap;">
            <div>
                <label for="data-balanco-anterior" style="display: block; font-size: 0.8rem; margin-bottom: 5px; color: #666;">De (Data Anterior)</label>
                <input type="date" id="data-balanco-anterior" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>

            <div>
                <label for="data-balanco-atual" style="display: block; font-size: 0.8rem; margin-bottom: 5px; color: #666;">Até (Data Atual)</label>
                <input type="date" id="data-balanco-atual" style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>

            <button id="btnGerarBalanco" style="height: 38px;">Gerar Balanço</button>
        </div>                      
        
        <div id="balanco-container-topo" class="balanco-container"> 
            
            <div id="lado-ativo" class="balanco-lado">
                <div class="balanco-header">ATIVO</div>
            </div>
            
            <div id="lado-passivo-pl" class="balanco-lado"> 
                <div class="balanco-header">PASSIVO E PATRIMÔNIO LÍQUIDO</div>
                <div id="conteudo-passivo-pl"></div>
            </div>
            
        </div> 
        
        <div id="grupo-resultado" class="contas-resultado-full-width">                            
            <div class="balanco-header">CONTAS DE RESULTADO</div>
            <div id="conteudo-resultado" class="resultado-container">
                <div id="lado-receitas"></div> 
                <div id="lado-despesas"></div>
            </div>
        </div>

    </div> </section>

              <section id="page-dre" class="page">
              <h2>Demonstração do Resultado do Exercício (DRE)</h2>
              <div class="toolbar" style="display: flex; align-items: flex-end; gap: 15px; flex-wrap: wrap;">
                  <div>
                      <label for="data-dre-inicio" style="display: block; font-size: 0.8rem; margin-bottom: 5px; color: #666;">Período Inicial (De)</label>
                      <input type="date" id="data-dre-inicio" required style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                  </div>

                  <div>
                      <label for="data-dre-fim" style="display: block; font-size: 0.8rem; margin-bottom: 5px; color: #666;">Período Final (Até)</label>
                      <input type="date" id="data-dre-fim" required style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                  </div>
                  
                  <button id="btnGerarDRE" style="height: 38px;">Gerar DRE</button>
              </div>

              <div class="relatorio-dre">
                  <div class="dre-bloco receitas">
                      <h3>RECEITAS</h3>
                      <div id="dre-receitas"></div>
                  </div>
                  <div class="dre-bloco despesas">
                      <h3>DESPESAS</h3>
                      <div id="dre-despesas"></div>
                  </div>
                  
                  <div id="dre-resultado-final" class="dre-resultado-final"></div>
              </div>
           </section>

            <section id="page-livro-razao" class="page">
                <header><h1>Livro Razão</h1></header>
                <div class="container">
                  <div class="toolbar" style="display: flex; align-items: center; gap: 1rem;">
                    <label for="filtro-conta-razao">Selecionar Conta:</label>
                    <select id="filtro-conta-razao" style="flex-grow: 1;"></select>
                    <button id="btnGerarRazao">Gerar Razão</button>
                  </div>
                  <div id="resultado-razao" style="margin-top: 2rem; display: none;">
                    <h2 id="nome-conta-razao" style="margin-bottom: 1rem;"></h2>
                    <table>
                      <thead><tr><th>Data</th><th>Histórico</th><th>Débito (R$)</th><th>Crédito (R$)</th><th>Saldo (R$)</th></tr></thead>
                      <tbody id="tabela-razao-corpo"></tbody>
                      <tfoot id="tabela-razao-rodape"></tfoot>
                    </table>
                  </div>
                </div>
            </section>
              
            </main>
        </div>
        
        <div id="modal-nova-conta" class="modal">
          <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Adicionar Nova Conta</h2>
            <form id="form-nova-conta">
              <input type="hidden" id="conta-id-edicao">
              <label for="codigo">Código:</label><input type="text" id="codigo" required>
              <label for="nome_conta">Nome da Conta:</label><input type="text" id="nome_conta" required>
              <label for="grupo_contabil">Grupo Contábil:</label>
              <select id="grupo_contabil" required>
                <option value="">Selecione...</option>
                <option value="Ativo">Ativo</option>
                <option value="Passivo">Passivo</option>
                <option value="Patrimônio Líquido">Patrimônio Líquido</option>
                <option value="Receitas">Receitas</option>
                <option value="Despesas">Despesas</option>
              </select>
              <label for="subgrupo1">Subgrupo 1:</label><input type="text" id="subgrupo1">
              <label for="subgrupo2">Subgrupo 2:</label><input type="text" id="subgrupo2">
              <button type="submit">Salvar Conta</button>
            </form>
          </div>
        </div>
    </div>
</body>
</html>